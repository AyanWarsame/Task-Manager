FROM python:3.9-slim

WORKDIR /app

# Copy requirements first for better caching
COPY requirements.txt .

# Debug: List files and check if requirements.txt exists
RUN ls -la
RUN cat requirements.txt

# Install dependencies
RUN pip install --no-cache-dir -r requirements.txt

# Debug: Check if Flask is installed
RUN pip list | grep -i flask

COPY . .

EXPOSE 5000

CMD ["python", "app.py"]